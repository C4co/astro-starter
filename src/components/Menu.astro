---
let foo = 'foo'

if (typeof window !== 'undefined') {
  window
    .matchMedia('(prefers-color-scheme: dark)')
    .addEventListener('change', function (e) {
      const colorScheme = e.matches ? 'dark' : 'light'
      foo = 'bar'
      console.log(colorScheme)
    })
}
---

<div>
  <span>{foo}</span>
</div>
